{"pageProps":{"post":{"type_of":"article","id":647296,"title":"Simpler goimports","description":"goimports grouping/ordering problem   As you can see on this issue golang/go#20818, goimport...","readable_publish_date":"Mar 27","slug":"simpler-goimports-28fm","path":"/rinchsan/simpler-goimports-28fm","url":"https://dev.to/rinchsan/simpler-goimports-28fm","comments_count":0,"public_reactions_count":6,"collection_id":null,"published_timestamp":"2021-03-27T08:22:27Z","positive_reactions_count":6,"cover_image":null,"social_image":"https://dev.to/social_previews/article/647296.png","canonical_url":"https://dev.to/rinchsan/simpler-goimports-28fm","created_at":"2021-03-27T08:22:27Z","edited_at":"2021-03-27T13:17:40Z","crossposted_at":null,"published_at":"2021-03-27T08:22:27Z","last_comment_at":"2021-03-27T08:22:27Z","reading_time_minutes":1,"tag_list":["go"],"tags":["go"],"body_html":"<h1>\n  <a name=\"goimports-groupingordering-problem\" href=\"#goimports-groupingordering-problem\" class=\"anchor\">\n  </a>\n  goimports grouping/ordering problem\n</h1>\n\n<p>As you can see on this issue <a href=\"https://github.com/golang/go/issues/20818\">golang/go#20818</a>, goimports has a problem about grouping/ordering import lines.<br>\nBut we have to determine several specifications to resolve this problem, and a lot of people have been discussing for about 4 years on the issue.</p>\n<h1>\n  <a name=\"an-example-solution\" href=\"#an-example-solution\" class=\"anchor\">\n  </a>\n  An example solution\n</h1>\n\n<p><a href=\"https://github.com/rinchsan/gosimports\">https://github.com/rinchsan/gosimports</a></p>\n\n<p>A tool named <code>gosimports</code> provides one example solution for the issue.<br>\n<code>gosimports</code> stands for \"simpler goimports\", putting \"s\" between \"go\" and \"imports\" of \"goimports\".</p>\n<h1>\n  <a name=\"what-raw-gosimports-endraw-does\" href=\"#what-raw-gosimports-endraw-does\" class=\"anchor\">\n  </a>\n  What <code>gosimports</code> does\n</h1>\n\n<p>When you have a file like this:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight go\"><code><span class=\"k\">package</span> <span class=\"n\">main</span>\n\n<span class=\"k\">import</span> <span class=\"p\">(</span>\n    <span class=\"s\">\"fmt\"</span>\n\n    <span class=\"s\">\"golang.org/x/sync/errgroup\"</span>\n    <span class=\"s\">\"context\"</span>\n<span class=\"p\">)</span>\n\n<span class=\"k\">func</span> <span class=\"n\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"n\">fmt</span><span class=\"o\">.</span><span class=\"n\">Println</span><span class=\"p\">(</span><span class=\"n\">errgroup</span><span class=\"o\">.</span><span class=\"n\">WithContext</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">Background</span><span class=\"p\">()))</span>\n<span class=\"p\">}</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><code>gosimports</code> will re-group and re-order import lines like below:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight go\"><code><span class=\"k\">package</span> <span class=\"n\">main</span>\n\n<span class=\"k\">import</span> <span class=\"p\">(</span>\n    <span class=\"s\">\"context\"</span>\n    <span class=\"s\">\"fmt\"</span>\n\n    <span class=\"s\">\"golang.org/x/sync/errgroup\"</span>\n<span class=\"p\">)</span>\n\n<span class=\"k\">func</span> <span class=\"n\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"n\">fmt</span><span class=\"o\">.</span><span class=\"n\">Println</span><span class=\"p\">(</span><span class=\"n\">errgroup</span><span class=\"o\">.</span><span class=\"n\">WithContext</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">Background</span><span class=\"p\">()))</span>\n<span class=\"p\">}</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>while original <code>goimports</code> does not.</p>\n\n","body_markdown":"goimports has a problem about grouping/ordering import lines.\nBut we have to determine several specifications to resolve this problem, and a lot of people have been discussing for about 4 years on the issue.\n\n# An example solution\n\nhttps://github.com/rinchsan/gosimports\n\nA tool named `gosimports` provides one example solution for the issue.\n`gosimports` stands for \"simpler goimports\", putting \"s\" between \"go\" and \"imports\" of \"goimports\".\n\n# What `gosimports` does\n\nWhen you have a file like this:\n\n```go\npackage main\n\nimport (\n\t\"fmt\"\n\n\t\"golang.org/x/sync/errgroup\"\n\t\"context\"\n)\n\nfunc main() {\n\tfmt.Println(errgroup.WithContext(context.Background()))\n}\n```\n\n`gosimports` will re-group and re-order import lines like below:\n\n```go\npackage main\n\nimport (\n\t\"context\"\n\t\"fmt\"\n\n\t\"golang.org/x/sync/errgroup\"\n)\n\nfunc main() {\n\tfmt.Println(errgroup.WithContext(context.Background()))\n}\n```\n\nwhile original `goimports` does not.","user":{"name":"Masaya Hayashi","username":"rinchsan","twitter_username":null,"github_username":"rinchsan","website_url":null,"profile_image":"https://res.cloudinary.com/practicaldev/image/fetch/s--hhb4KDVD--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/604409/3333bb7f-2488-4ae3-89a1-3e34a7d3accb.jpeg","profile_image_90":"https://res.cloudinary.com/practicaldev/image/fetch/s--lCxxOm1G--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/604409/3333bb7f-2488-4ae3-89a1-3e34a7d3accb.jpeg"},"readingTime":"1 min read"}},"__N_SSG":true}