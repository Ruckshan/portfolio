{"pageProps":{"post":{"type_of":"article","id":645940,"title":"Chill With Searching and Loading","description":"If you have 50,000,000 or more records contained in a variable and you want to look up the data from...","readable_publish_date":"Mar 26","slug":"chill-with-searching-and-loading-195k","path":"/darkterminal/chill-with-searching-and-loading-195k","url":"https://dev.to/darkterminal/chill-with-searching-and-loading-195k","comments_count":0,"public_reactions_count":6,"collection_id":11917,"published_timestamp":"2021-03-26T03:45:34Z","positive_reactions_count":6,"cover_image":null,"social_image":"https://dev.to/social_previews/article/645940.png","canonical_url":"https://dev.to/darkterminal/chill-with-searching-and-loading-195k","created_at":"2021-03-26T03:45:34Z","edited_at":"2021-03-26T03:49:16Z","crossposted_at":null,"published_at":"2021-03-26T03:45:34Z","last_comment_at":"2021-03-26T03:45:34Z","reading_time_minutes":1,"tag_list":["php","programming","discuss","showdev"],"tags":["php","programming","discuss","showdev"],"body_html":"<p>If you have 50,000,000 or more records contained in a variable and you want to look up the data from array by key and get a value similar to what you are looking for. What would you do?</p>\n\n<p>Are you going to use untested code like this<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight php\"><code><span class=\"cp\">&lt;?php</span>\n\n<span class=\"nv\">$lotOfData</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'name'</span> <span class=\"o\">=&gt;</span> <span class=\"s1\">'I am stupid'</span><span class=\"p\">,</span> <span class=\"mf\">...</span> <span class=\"p\">,</span> <span class=\"s1\">'name'</span> <span class=\"o\">=&gt;</span> <span class=\"s1\">'Yes, I Am'</span><span class=\"p\">];</span>\n<span class=\"nv\">$searchTerm</span> <span class=\"o\">=</span> <span class=\"s1\">'am'</span><span class=\"p\">;</span>\n\n<span class=\"k\">foreach</span> <span class=\"p\">(</span> <span class=\"nv\">$lotOfData</span> <span class=\"k\">as</span> <span class=\"nv\">$key</span> <span class=\"o\">=&gt;</span> <span class=\"nv\">$value</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n   <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nb\">strpos</span><span class=\"p\">(</span><span class=\"nv\">$value</span><span class=\"p\">,</span> <span class=\"s1\">'am'</span><span class=\"p\">)</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nv\">$value</span><span class=\"p\">;</span>\n   <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"s2\">\"What ur looking for?!\"</span><span class=\"p\">;</span>\n   <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Or using code like this?<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight php\"><code><span class=\"cp\">&lt;?php</span>\n\n<span class=\"k\">function</span> <span class=\"n\">search</span><span class=\"p\">(</span> <span class=\"nv\">$array</span><span class=\"p\">,</span> <span class=\"nv\">$key</span><span class=\"p\">,</span> <span class=\"nv\">$value</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nv\">$search</span> <span class=\"o\">=</span> <span class=\"s2\">\"/</span><span class=\"nv\">$value</span><span class=\"s2\">/i\"</span><span class=\"p\">;</span>\n    <span class=\"nv\">$results</span> <span class=\"o\">=</span> <span class=\"nb\">array_filter</span><span class=\"p\">(</span> <span class=\"nv\">$array</span><span class=\"p\">,</span> <span class=\"k\">function</span><span class=\"p\">(</span> <span class=\"nv\">$a</span> <span class=\"p\">)</span> <span class=\"k\">use</span><span class=\"p\">(</span> <span class=\"nv\">$search</span> <span class=\"p\">)</span>  <span class=\"p\">{</span>\n        <span class=\"nb\">unset</span><span class=\"p\">(</span> <span class=\"nv\">$a</span><span class=\"p\">[</span><span class=\"nv\">$key</span><span class=\"p\">]</span> <span class=\"p\">);</span>\n        <span class=\"k\">return</span> <span class=\"nb\">preg_grep</span><span class=\"p\">(</span> <span class=\"nv\">$search</span><span class=\"p\">,</span> <span class=\"nv\">$a</span> <span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n    <span class=\"k\">return</span> <span class=\"nv\">$results</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nv\">$lotOfData</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'name'</span> <span class=\"o\">=&gt;</span> <span class=\"s1\">'I am stupid'</span><span class=\"p\">,</span> <span class=\"mf\">...</span> <span class=\"p\">,</span> <span class=\"s1\">'name'</span> <span class=\"o\">=&gt;</span> <span class=\"s1\">'Yes, I Am'</span><span class=\"p\">];</span>\n<span class=\"nv\">$searchTerm</span> <span class=\"o\">=</span> <span class=\"s1\">'am'</span><span class=\"p\">;</span>\n\n<span class=\"nv\">$search_result</span> <span class=\"o\">=</span> <span class=\"nf\">search</span><span class=\"p\">(</span><span class=\"nv\">$lotOfData</span><span class=\"p\">,</span> <span class=\"s1\">'name'</span><span class=\"p\">,</span> <span class=\"nv\">$searchTerm</span><span class=\"p\">);</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Which code will you choose? If you have your own way to find similar data in arrays, please tell us how. It looks stupid, but YES that's ME. Spreading ignorance in orderly disorder.</p>\n\n","body_markdown":"If you have your own way to find similar data in arrays, please tell us how. It looks stupid, but YES that's ME. Spreading ignorance in orderly disorder.","user":{"name":"Imam Ali Mustofa","username":"darkterminal","twitter_username":"ddarkterminal","github_username":"darkterminal","website_url":"https://bettadevindonesia.com","profile_image":"https://res.cloudinary.com/practicaldev/image/fetch/s--P9Py7jLd--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/136120/267dd275-8314-4460-b087-3c3f765d06a0.jpg","profile_image_90":"https://res.cloudinary.com/practicaldev/image/fetch/s--6cK60T0o--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/136120/267dd275-8314-4460-b087-3c3f765d06a0.jpg"},"flare_tag":{"name":"discuss","bg_color_hex":"#000000","text_color_hex":"#FFFFFF"},"readingTime":"1 min read"}},"__N_SSG":true}