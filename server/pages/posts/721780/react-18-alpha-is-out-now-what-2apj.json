{"pageProps":{"post":{"type_of":"article","id":721780,"title":"React 18 Alpha is out! Now what?","description":"Hello!  They kept us in Suspense long enough, but HECK React developers have some new features to...","readable_publish_date":"Jun 8","slug":"react-18-alpha-is-out-now-what-2apj","path":"/cassidoo/react-18-alpha-is-out-now-what-2apj","url":"https://dev.to/cassidoo/react-18-alpha-is-out-now-what-2apj","comments_count":25,"public_reactions_count":490,"collection_id":null,"published_timestamp":"2021-06-08T18:05:22Z","positive_reactions_count":490,"cover_image":"https://res.cloudinary.com/practicaldev/image/fetch/s--U4Dl1yeC--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://images.unsplash.com/photo-1492412931596-e47811cc802f%3Fixid%3DMnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8%26ixlib%3Drb-1.2.1%26auto%3Dformat%26fit%3Dcrop%26w%3D1650%26q%3D80","social_image":"https://res.cloudinary.com/practicaldev/image/fetch/s---CQdjWFb--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://images.unsplash.com/photo-1492412931596-e47811cc802f%3Fixid%3DMnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8%26ixlib%3Drb-1.2.1%26auto%3Dformat%26fit%3Dcrop%26w%3D1650%26q%3D80","canonical_url":"https://www.netlify.com/blog/2021/06/08/react-18-alpha-is-out-now-what/","created_at":"2021-06-08T18:03:02Z","edited_at":"2021-06-28T23:47:16Z","crossposted_at":"2021-06-08T18:05:22Z","published_at":"2021-06-08T00:00:00Z","last_comment_at":"2021-08-04T10:14:45Z","reading_time_minutes":3,"tag_list":["react"],"tags":["react"],"body_html":"<p>Hello!</p>\n\n<p>They kept us in Suspense long enough, but HECK React developers have some new features to play with!!<br>\nThe best part: Almost all of the benefits of the upgrade don't require major code changes.</p>\n<h2>\n  <a name=\"the-new-root-api\" href=\"#the-new-root-api\">\n  </a>\n  The New Root API\n</h2>\n\n<p>React has always had to have some kind of root. You're probably used to seeing something like this at the top level of your applications:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight jsx\"><code><span class=\"k\">import</span> <span class=\"nx\">ReactDOM</span> <span class=\"k\">from</span> <span class=\"dl\">'</span><span class=\"s1\">react-dom</span><span class=\"dl\">'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">App</span> <span class=\"k\">from</span> <span class=\"dl\">'</span><span class=\"s1\">App</span><span class=\"dl\">'</span><span class=\"p\">;</span>\n\n<span class=\"nx\">ReactDOM</span><span class=\"p\">.</span><span class=\"nx\">render</span><span class=\"p\">(&lt;</span><span class=\"nc\">App</span> <span class=\"p\">/&gt;,</span> <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">getElementById</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">root</span><span class=\"dl\">'</span><span class=\"p\">));</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Pretty normal, right? Right. This <code>ReactDOM.render()</code> is now called the <strong>Legacy Root API</strong>. It works the exact same way as React 17. You are still allowed to keep this, but it <em>will</em> be eventually deprecated.</p>\n\n<p>The <strong>New Root API</strong> looks a little different:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight jsx\"><code><span class=\"k\">import</span> <span class=\"nx\">ReactDOM</span> <span class=\"k\">from</span> <span class=\"dl\">'</span><span class=\"s1\">react-dom</span><span class=\"dl\">'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">App</span> <span class=\"k\">from</span> <span class=\"dl\">'</span><span class=\"s1\">App</span><span class=\"dl\">'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">root</span> <span class=\"o\">=</span> <span class=\"nx\">ReactDOM</span><span class=\"p\">.</span><span class=\"nx\">createRoot</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">getElementById</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">root</span><span class=\"dl\">'</span><span class=\"p\">));</span>\n\n<span class=\"nx\">root</span><span class=\"p\">.</span><span class=\"nx\">render</span><span class=\"p\">(&lt;</span><span class=\"nc\">App</span> <span class=\"p\">/&gt;);</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>It's very similar! You use <code>ReactDOM.createRoot</code> instead of the old method.</p>\n\n<p>With this change, a few things happen:</p>\n\n<ul>\n<li>The <code>hydrate</code> method is gone, and is now an option on <code>createRoot</code>\n</li>\n<li>The render callback is gone (and can now be a prop passed in to <code>&lt;App /&gt;</code> or whatever you give to the root)</li>\n</ul>\n\n<p>If you don't use these two functions, then you don't have to worry about their changes. If you'd like more details on them, <a href=\"https://github.com/reactwg/react-18/discussions/5\">there's some code change examples here</a> from the React core team.</p>\n\n<p>By switching to the <strong>New Root API</strong>, you <em>automatically</em> get the new out-of-the-box improvements that come with React 18!</p>\n\n<p>This change is <em>all you need to do</em> to upgrade your client to React 18. If you only use React client-side, then you're done and can skip to the installation section below! If you use server-side React or want to learn more about Suspense, keep reading.</p>\n\n<h2>\n  <a name=\"suspense\" href=\"#suspense\">\n  </a>\n  Suspense\n</h2>\n\n<p>Puns aside, I think we are ALL incredibly excited for Suspense finally coming out with full support. React 16 had support for it, technically, but it was never full support, and it was not very easy to understand. </p>\n\n<p>Soooo what the heck is Suspense? It's a set of functionality that allows for waiting for data to resolve before a state transition (AKA delayed transitions), reducing UI clashes while data loads (AKA placeholder throttling), and coordinating the appearance of a set of components by streaming them in order (AKA SuspenseList).</p>\n\n<p>If you played with Suspense before, you might see some \"Legacy Suspense\" behavior changing, but if you'd like to try it out for the first time, the summary is that you wrap your components in a <code>&lt;Suspense&gt;</code> component, like so:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight jsx\"><code><span class=\"p\">&lt;</span><span class=\"nc\">Suspense</span> <span class=\"na\">fallback</span><span class=\"p\">=</span><span class=\"si\">{</span><span class=\"p\">&lt;</span><span class=\"nc\">Loading</span> <span class=\"p\">/&gt;</span><span class=\"si\">}</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nc\">SomeComponentThatSuspends</span> <span class=\"p\">/&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nc\">SomeOtherComponent</span> <span class=\"p\">/&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nc\">Suspense</span><span class=\"p\">&gt;</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>In this example, React will show the <code>&lt;Loading /&gt;</code> component at first, and then will replace <code>&lt;Loading /&gt;</code> with <code>&lt;SomeComponentThatSuspends /&gt;</code> and <code>&lt;SomeOtherComponent /&gt;</code> when the data is resolved in <code>&lt;SomeComponentThatSuspends /&gt;</code>.</p>\n\n<p>I want to reiterate this, because <a href=\"https://github.com/reactwg/react-18/discussions/7\">it's different from previous versions</a>: Nothing inside of the <code>&lt;Suspense /&gt;</code> component will be rendered until the data is resolved! You can see a code sample from the React core team using this <a href=\"https://codesandbox.io/s/romantic-architecture-ht3qi?file=/src/App.js\">here</a>.</p>\n\n<h2>\n  <a name=\"concurrent-features\" href=\"#concurrent-features\">\n  </a>\n  Concurrent features\n</h2>\n\n<p>There are a few methods that come with React 18 that are completely opt-in. Not all of them are documented yet, but they will be as the version is optimized:</p>\n\n<ul>\n<li>\n<a href=\"https://github.com/reactwg/react-18/discussions/41\"><code>startTransition</code></a>: keep the UI responsive during a big state transition.</li>\n<li>\n<code>useDeferredValue</code>: defer updating less important parts of your app.</li>\n<li>\n<code>&lt;SuspenseList&gt;</code>: coordinate the order in which loading indicators show up.</li>\n<li>\n<a href=\"https://github.com/reactwg/react-18/discussions/37\">Server-side rendering with selective hydration</a>: has your app load and become interactive faster.</li>\n</ul>\n\n<p>What's nice about each of these features is that you don't have to include all of them throughout your whole application. You can opt-in to build with them in just certain parts of the app, which is very nice and flexible.</p>\n\n<h2>\n  <a name=\"enough-already-how-do-i-install-it\" href=\"#enough-already-how-do-i-install-it\">\n  </a>\n  Enough already! How do I install it?\n</h2>\n\n<p>You can use the <code>@alpha</code> tag to install React 18 right away:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code>npm <span class=\"nb\">install </span>react@alpha react-dom@alpha\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>It will be <strong>months</strong>  before the Alpha reaches Beta, and more time after that until it's fully stable. You can see <a href=\"https://github.com/reactwg/react-18/discussions/9\">more details about the roadmap here</a>, which also includes other functions that aren't implemented yet.</p>\n\n<p>The <a href=\"https://github.com/reactwg/react-18/discussions\">React Working Group</a> has a full set of questions and discussions about these features as well, if you'd like to read more, as well as their <a href=\"https://reactjs.org/blog/2021/06/08/the-plan-for-react-18.html\">announcement blog post</a>!</p>\n\n<p>'Til next time!</p>\n\n","body_markdown":"---\ntitle: React 18 Alpha is out! Now what?\npublished: true\ndate: 2021-06-08 00:00:00 UTC\ntags: react\ncover_image: https://images.unsplash.com/photo-1492412931596-e47811cc802f?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\ncanonical_url: https://www.netlify.com/blog/2021/06/08/react-18-alpha-is-out-now-what/\n---\n\nHello!\n\nThey kept us in Suspense long enough, but HECK React developers have some new features to play with!!\nThe best part: Almost all of the benefits of the upgrade don't require major code changes.\n\n## The New Root API\n\nReact has always had to have some kind of root. You're probably used to seeing something like this at the top level of your applications:\n\n```jsx\nimport ReactDOM from 'react-dom';\nimport App from 'App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n```\n\nPretty normal, right? Right. This `ReactDOM.render()` is now called the **Legacy Root API**. It works the exact same way as React 17. You are still allowed to keep this, but it *will* be eventually deprecated.\n\nThe **New Root API** looks a little different:\n\n```jsx\nimport ReactDOM from 'react-dom';\nimport App from 'App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\n\nroot.render(<App />);\n```\n\nIt's very similar! You use `ReactDOM.createRoot` instead of the old method.\n\nWith this change, a few things happen:\n- The `hydrate` method is gone, and is now an option on `createRoot`\n- The render callback is gone (and can now be a prop passed in to `<App />` or whatever you give to the root)\n\nIf you don't use these two functions, then you don't have to worry about their changes. If you'd like more details on them, [there's some code change examples here](https://github.com/reactwg/react-18/discussions/5) from the React core team.\n\nBy switching to the **New Root API**, you *automatically* get the new out-of-the-box improvements that come with React 18!\n\nThis change is *all you need to do* to upgrade your client to React 18. If you only use React client-side, then you're done and can skip to the installation section below! If you use server-side React or want to learn more about Suspense, keep reading.\n\n## Suspense\n\nPuns aside, I think we are ALL incredibly excited for Suspense finally coming out with full support. React 16 had support for it, technically, but it was never full support, and it was not very easy to understand. \n\nSoooo what the heck is Suspense? It's a set of functionality that allows for waiting for data to resolve before a state transition (AKA delayed transitions), reducing UI clashes while data loads (AKA placeholder throttling), and coordinating the appearance of a set of components by streaming them in order (AKA SuspenseList).\n\nIf you played with Suspense before, you might see some \"Legacy Suspense\" behavior changing, but if you'd like to try it out for the first time, the summary is that you wrap your components in a `<Suspense>` component, like so:\n\n```jsx\n<Suspense fallback={<Loading />}>\n  <SomeComponentThatSuspends />\n  <SomeOtherComponent />\n</Suspense>\n```\n\nIn this example, React will show the `<Loading />` component at first, and then will replace `<Loading />` with `<SomeComponentThatSuspends />` and `<SomeOtherComponent />` when the data is resolved in `<SomeComponentThatSuspends />`.\n\nI want to reiterate this, because [it's different from previous versions](https://github.com/reactwg/react-18/discussions/7): Nothing inside of the `<Suspense />` component will be rendered until the data is resolved! You can see a code sample from the React core team using this [here](https://codesandbox.io/s/romantic-architecture-ht3qi?file=/src/App.js).\n\n## Concurrent features\n\nThere are a few methods that come with React 18 that are completely opt-in. Not all of them are documented yet, but they will be as the version is optimized:\n\n- [`startTransition`](https://github.com/reactwg/react-18/discussions/41): keep the UI responsive during a big state transition.\n- `useDeferredValue`: defer updating less important parts of your app.\n- `<SuspenseList>`: coordinate the order in which loading indicators show up.\n- [Server-side rendering with selective hydration](https://github.com/reactwg/react-18/discussions/37): has your app load and become interactive faster.\n\nWhat's nice about each of these features is that you don't have to include all of them throughout your whole application. You can opt-in to build with them in just certain parts of the app, which is very nice and flexible.\n\n## Enough already! How do I install it?\n\nYou can use the `@alpha` tag to install React 18 right away:\n\n```bash\nnpm install react@alpha react-dom@alpha\n```\n\nIt will be **months**  before the Alpha reaches Beta, and more time after that until it's fully stable. You can see [more details about the roadmap here](https://github.com/reactwg/react-18/discussions/9), which also includes other functions that aren't implemented yet.\n\nThe [React Working Group](https://github.com/reactwg/react-18/discussions) has a full set of questions and discussions about these features as well, if you'd like to read more, as well as their [announcement blog post](https://reactjs.org/blog/2021/06/08/the-plan-for-react-18.html)!\n\n'Til next time!","user":{"name":"Cassidy Williams","username":"cassidoo","twitter_username":"cassidoo","github_username":"cassidoo","website_url":"http://cassidoo.co","profile_image":"https://res.cloudinary.com/practicaldev/image/fetch/s--X6yB_pWq--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/6401/db5b0ab6-93a1-4168-9f97-af8d363c1153.png","profile_image_90":"https://res.cloudinary.com/practicaldev/image/fetch/s--P4HnHvGk--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/6401/db5b0ab6-93a1-4168-9f97-af8d363c1153.png"},"readingTime":"4 min read"}},"__N_SSG":true}